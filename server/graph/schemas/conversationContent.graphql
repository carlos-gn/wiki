# ===============================================
# CONVERSATIONS CONTENT
# ===============================================

extend type Query {
  conversationContent: ConversationContentQuery
}

extend type Mutation {
  conversationContent: ConversationContentMutation
}

# -----------------------------------------------
# QUERIES
# -----------------------------------------------

type ConversationContentQuery {
  list(
    limit: Int
    orderBy: ConversationContentOrderBy
    orderByDirection: ConversationContentOrderByDirection
  ): [ConversationContentListItem!]! @auth(requires: ["manage:system"])

  listByAnswer(
    answer: String!,
    reviewed: Boolean,
    orderBy: ConversationContentOrderBy
    orderByDirection: ConversationContentOrderByDirection
  ): [ConversationContentListItem!]! @auth(requires: ["manage:system"])
}

# -----------------------------------------------
# MUTATIONS
# -----------------------------------------------

type ConversationContentMutation {
  changeReviewed(
    id: Int!,
    reviewed: Boolean!
  ): ConversationContentListItem! @auth(requires: ["manage:system"])
}


# -----------------------------------------------
# TYPES
# -----------------------------------------------


# type ConversationSearchResponse {
#   results: [ConversationSearchResult]!
#   suggestions: [String]!
#   totalHits: Int!
# }

# type ConversationSearchResult {
#   id: String!
#   title: String!
#   description: String!
#   path: String!
#   locale: String!
# }

type ConversationContentListItem {
 id: Int!
 conversation_id:Int!
 question: String!
 answer:String!
 score: Int
 feedback: String
 reviewed: Boolean
 created_at: Date!
}

enum ConversationContentOrderBy {
  CREATED
  ID
  PATH
  TITLE
  UPDATED
}

enum ConversationContentOrderByDirection {
  ASC
  DESC
}
